--
DELETE FROM `creature_text` WHERE `CreatureID` = 14041;
INSERT INTO `creature_text` (`CreatureID`, `GroupID`, `ID`, `Text`, `Type`, `Language`, `Probability`, `Emote`, `Duration`, `Sound`, `BroadcastTextId`, `TextRange`, `comment`) VALUES
(14041, 0, 0, 'Spare some change?', 12, 0, 100, 1, 0, 0, 9088, 0, 'Haggle - Random Say'),
(14041, 0, 1, 'I had it all!  I had it all and then I lost it.  Lost... all gone... like... my mind.  My mind is like... cheese.  I like cheese.', 12, 0, 100, 1, 0, 0, 9089, 0, 'Haggle - Random Say'),
(14041, 0, 2, 'Forty-two... forty-two... forty-two what?  It could be anything!  Forty-two... hmmm...', 12, 0, 100, 1, 0, 0, 9098, 0, 'Haggle - Random Say'),
(14041, 0, 3, 'Rat-kabobs!  Get your tasty Rat-kabobs here!  Get them while they last!', 12, 0, 100, 1, 0, 0, 9150, 0, 'Haggle - Random Say'),
(14041, 0, 4, 'Rats everywhere.  Everywhere I see rats.  Always looking at me with their beedy little eyes.  I\'ll show them.  I\'ll show them all!', 12, 0, 100, 1, 0, 0, 9149, 0, 'Haggle - Random Say'),
(14041, 0, 5, '%s yawns.', 16, 0, 100, 0, 0, 0, 9417, 0, 'Haggle - Emote 1'),
(14041, 1, 0, '%s sifts through the trash.', 16, 0, 100, 69, 0, 0, 9141, 0, 'Haggle - Emote 2');

DELETE FROM `creature` WHERE `guid` = 53788;
INSERT INTO `creature` (`guid`, `id1`, `id2`, `id3`, `map`, `zoneId`, `areaId`, `spawnMask`, `phaseMask`, `equipment_id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecs`, `wander_distance`, `currentwaypoint`, `curhealth`, `curmana`, `MovementType`, `npcflag`, `unit_flags`, `dynamicflags`, `ScriptName`, `VerifiedBuild`) VALUES
(53788, 14041, 0, 0, 369, 0, 0, 1, 1, 0, 38.99483, 24.375648, -4.2973485, 0.366166770458221435, 190, 0, 0, 484, 0, 0, 0, 0, 0, '', 45704);

DELETE FROM `waypoints` WHERE `entry` = 14041;
INSERT INTO `waypoints` (`entry`, `pointid`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `point_comment`) VALUES
(14041, 1, 33.34522, 31.454027, -4.2973475, NULL, 0, 'Haggle'),
(14041, 2, 26.45702, 34.893867, -4.2973475, NULL, 0, 'Haggle'),
(14041, 3, 20.477, 34.7853, -4.297975, NULL, 0, 'Haggle'),
(14041, 4, 17.328176, 31.855068, -4.288516, NULL, 0, 'Haggle'),
(14041, 5, 17.432047, -19.700907, -4.2973523, NULL, 0, 'Haggle'),
(14041, 6, 14.175989, -24.883198, -4.290597, NULL, 0, 'Haggle'),
(14041, 7, 14.169546, -28.330238, -4.2973585, NULL, 0, 'Haggle'),
(14041, 8, 11.564287, -30.887716, -4.2973533, NULL, 0, 'Haggle'),
(14041, 9, -4.735959, -30.929426, -4.2978487, NULL, 0, 'Haggle'),
(14041, 10, -7.366175, -25.010038, -4.297242, NULL, 0, 'Haggle'),
(14041, 11, -19.336628, -17.376917, -4.2973704, NULL, 0, 'Haggle'),
(14041, 12, -19.336628, -17.376917, -4.2973704, NULL, 0, 'Haggle - start wander 1'),
(14041, 13, -15.261998, -3.653864, -4.297435, NULL, 0, 'Haggle - resume waypoint'),
(14041, 14, -17.923254, -1.263314, -4.2876077, NULL, 0, 'Haggle'),
(14041, 15, -17.923254, -1.263314, -4.2876077, NULL, 0, 'Haggle - into sleeping on bench'),
(14041, 16, -16.773191, -1.117661, -4.287462, NULL, 0, 'Haggle'),
(14041, 17, -14.93353, -15.882146, -4.2973704, NULL, 0, 'Haggle'),
(14041, 18, -19.337181, -17.266024, -4.2973704, NULL, 0, 'Haggle - start wander 2'),
(14041, 19, -22.05402, -9.908834, -4.296536, NULL, 0, 'Haggle'),
(14041, 20, -21.497362, -9.651139, -4.296598, NULL, 0, 'Haggle'),
(14041, 21, -21.497362, -9.651139, -4.296598, NULL, 0, 'Haggle - sifting through trash 1'),
(14041, 22, -19.452112, -3.621434, -4.2970552, NULL, 0, 'Haggle'),
(14041, 23, -19.452112, -3.621434, -4.2970552, NULL, 0, 'Haggle - sifting through trash 2'),
(14041, 24, -14.487922, 0.329824, -4.287024, NULL, 0, 'Haggle'),
(14041, 25, -15.168751, 20.166489, -4.3063, NULL, 0, 'Haggle'),
(14041, 26, -16.66379, 21.67101, -4.305281, NULL, 0, 'Haggle'),
(14041, 27, -18.431108, 21.27326, -4.304296, NULL, 0, 'Haggle'),
(14041, 28, -18.431108, 21.27326, -4.304296, NULL, 0, 'Haggle - sifting through trash 3'),
(14041, 29, -15.260129, 26.659346, -4.299999, NULL, 0, 'Haggle'),
(14041, 30, -16.375502, 26.893675, -4.299803, NULL, 0, 'Haggle'),
(14041, 31, -16.375502, 26.893675, -4.299803, NULL, 0, 'Haggle - sifting through trash 4'),
(14041, 32, -13.471532, -15.474365, -4.2973704, NULL, 0, 'Haggle'),
(14041, 33, -13.471532, -15.474365, -4.2973704, NULL, 0, 'Haggle - into sleeping on bench 2'),
(14041, 34, -19.333311, -17.326876, -4.2973704, NULL, 0, 'Haggle'),
(14041, 35, -19.333311, -17.326876, -4.2973704, NULL, 0, 'Haggle - start wander 3'),
(14041, 36, -15.293428, -22.230337, -4.299684, NULL, 0, 'Haggle'),
(14041, 37, -11.042005, -22.395052, -4.29911, NULL, 0, 'Haggle'),
(14041, 38, -6.875696, -25.810347, -4.29732, NULL, 0, 'Haggle'),
(14041, 39, -6.518164, -29.358128, -4.2977223, NULL, 0, 'Haggle'),
(14041, 40, -4.615194, -32.011036, -4.2979712, NULL, 0, 'Haggle'),
(14041, 41, 10.915832, -32.93334, -4.2973523, NULL, 0, 'Haggle'),
(14041, 42, 14.343336, -28.164183, -4.2973585, NULL, 0, 'Haggle'),
(14041, 43, 14.472878, -22.567085, -4.289472, NULL, 0, 'Haggle'),
(14041, 44, 21.931023, -18.69022, -4.2973504, NULL, 0, 'Haggle'),
(14041, 45, 22.149866, -17.656652, -4.2973504, NULL, 0, 'Haggle'),
(14041, 46, 22.149866, -17.656652, -4.2973504, NULL, 0, 'Haggle - sifting through trash 5'),
(14041, 47, 30.895535, -16.94747, -4.297347, NULL, 0, 'Haggle'),
(14041, 48, 38.974773, -11.690686, -4.297347, NULL, 0, 'Haggle'),
(14041, 49, 38.974773, -11.690686, -4.297347, NULL, 0, 'Haggle - sifting through trash 6'),
(14041, 50, 37.514492, -1.188888, -4.2973495, NULL, 0, 'Haggle'),
(14041, 51, 38.968258, 0.839936, -4.29735, NULL, 0, 'Haggle'),
(14041, 52, 38.968258, 0.839936, -4.29735, NULL, 0, 'Haggle - sifting through trash 7'),
(14041, 53, 27.43926, 5.252612, -4.297351, NULL, 0, 'Haggle'),
(14041, 54, 21.324173, 13.69732, -4.2973514, NULL, 0, 'Haggle'),
(14041, 55, 21.230026, 14.574246, -4.297351, NULL, 0, 'Haggle'),
(14041, 56, 21.230026, 14.574246, -4.297351, NULL, 0, 'Haggle - sifting through trash 8'),
(14041, 57, 27.30816, 14.715199, -4.2973504, NULL, 0, 'Haggle'),
(14041, 58, 32.701, 21.962217, -4.2973495, NULL, 0, 'Haggle - talking'),
(14041, 59, 38.99483, 24.375648, -4.2973485, NULL, 0, 'Haggle'),
(14041, 60, 38.99483, 24.375648, -4.2973485, NULL, 0, 'Haggle - sifting through trash 9');

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 14041;

DELETE FROM `smart_scripts` WHERE `entryorguid` IN (14041, 1404100, 1404101, 1404102, 1404103, 1404104);
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `event_param6`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(14041, 0, 0, 0, 11, 0, 100, 0, 0, 0, 0, 0, 0, 0, 53, 0, 14041, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Respawn - Start waypoint'),
(14041, 0, 1, 0, 40, 0, 100, 0, 11, 0, 0, 0, 0, 0, 80, 1404100, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP11 reached - Run Actionlist'),
(14041, 0, 2, 0, 40, 0, 100, 0, 14, 0, 0, 0, 0, 0, 80, 1404101, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP14 reached - Run Actionlist'),
(14041, 0, 3, 0, 40, 0, 100, 0, 18, 0, 0, 0, 0, 0, 80, 1404102, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP18 reached - Run Actionlist'),
(14041, 0, 4, 5, 40, 0, 100, 0, 20, 0, 0, 0, 0, 0, 54, 5000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP20 reached - Pause waypoint'),
(14041, 0, 5, 0, 61, 0, 100, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP20 reached - Say emote 2'),
(14041, 0, 6, 7, 40, 0, 100, 0, 22, 0, 0, 0, 0, 0, 54, 3000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP22 reached - Pause waypoint'),
(14041, 0, 7, 0, 61, 0, 100, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP22 reached - Say emote 2'),
(14041, 0, 8, 9, 40, 0, 100, 0, 27, 0, 0, 0, 0, 0, 54, 3000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP27 reached - Pause waypoint'),
(14041, 0, 9, 0, 61, 0, 100, 0, 0, 0, 0, 0, 0, 0, 5, 69, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP27 reached - Do emote OS crafting'),
(14041, 0, 10, 11, 40, 0, 100, 0, 30, 0, 0, 0, 0, 0, 54, 3000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP30 reached - Pause waypoint'),
(14041, 0, 11, 0, 61, 0, 100, 0, 0, 0, 0, 0, 0, 0, 5, 69, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP30 reached - Do emote OS crafting'),
(14041, 0, 12, 0, 40, 0, 100, 0, 32, 0, 0, 0, 0, 0, 80, 1404104, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP32 reached - Run Actionlist'),
(14041, 0, 13, 0, 40, 0, 100, 0, 34, 0, 0, 0, 0, 0, 80, 1404103, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP34 reached - Run Actionlist'),
(14041, 0, 14, 15, 40, 0, 100, 0, 45, 0, 0, 0, 0, 0, 54, 3000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP45 reached - Pause waypoint'),
(14041, 0, 15, 0, 61, 0, 100, 0, 0, 0, 0, 0, 0, 0, 5, 69, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP45 reached - Do emote OS crafting'),
(14041, 0, 16, 17, 40, 0, 100, 0, 48, 0, 0, 0, 0, 0, 54, 3000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP48 reached - Pause waypoint'),
(14041, 0, 17, 0, 61, 0, 100, 0, 0, 0, 0, 0, 0, 0, 5, 69, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP48 reached - Do emote OS crafting'),
(14041, 0, 18, 19, 40, 0, 100, 0, 51, 0, 0, 0, 0, 0, 54, 3000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP51 reached - Pause waypoint'),
(14041, 0, 19, 0, 61, 0, 100, 0, 0, 0, 0, 0, 0, 0, 5, 69, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP51 reached - Do emote OS crafting'),
(14041, 0, 20, 21, 40, 0, 100, 0, 55, 0, 0, 0, 0, 0, 54, 3000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP55 reached - Pause waypoint'),
(14041, 0, 21, 0, 61, 0, 100, 0, 0, 0, 0, 0, 0, 0, 5, 69, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP55 reached - Do emote OS crafting'),
(14041, 0, 22, 23, 40, 0, 100, 0, 59, 0, 0, 0, 0, 0, 54, 3000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP59 reached - Pause waypoint'),
(14041, 0, 23, 0, 61, 0, 100, 0, 0, 0, 0, 0, 0, 0, 5, 69, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP59 reached - Do emote OS crafting'),
(14041, 0, 24, 0, 40, 0, 100, 0, 60, 0, 0, 0, 0, 0, 53, 0, 14041, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On WP60 reached - Start waypoint'),
(1404100, 9, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 54, 20000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Pause Waypoint 20 seconds'),
(1404100, 9, 1, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 89, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Random movement'),
(1404100, 9, 2, 0, 0, 0, 100, 0, 10000, 10000, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Say random'),
(1404100, 9, 3, 0, 0, 0, 100, 0, 19000, 19000, 0, 0, 0, 0, 212, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Stop random movement'),
(1404101, 9, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 54, 122000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Pause Waypoint 122 seconds'),
(1404101, 9, 1, 0, 0, 0, 100, 0, 500, 500, 0, 0, 0, 0, 90, 3, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On On Script - Set bytes1 - sleep'),
(1404101, 9, 2, 0, 0, 0, 100, 0, 121500, 121500, 0, 0, 0, 0, 91, 3, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script- Remove bytes1 - sleep'),
(1404102, 9, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 54, 45000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Pause Waypoint 45 seconds'),
(1404102, 9, 1, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 89, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Random movement'),
(1404102, 9, 2, 0, 0, 0, 100, 0, 44000, 44000, 0, 0, 0, 0, 212, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Stop random movement'),
(1404103, 9, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 54, 45000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Pause Waypoint 45 seconds'),
(1404103, 9, 1, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 89, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Random movement'),
(1404103, 9, 2, 0, 0, 0, 100, 0, 36000, 36000, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Say random'),
(1404103, 9, 3, 0, 0, 0, 100, 0, 43000, 43000, 0, 0, 0, 0, 212, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Stop random movement'),
(1404104, 9, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 54, 16000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script - Pause Waypoint 16 seconds'),
(1404104, 9, 1, 0, 0, 0, 100, 0, 500, 500, 0, 0, 0, 0, 90, 3, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On On Script - Set bytes1 - sleep'),
(1404104, 9, 2, 0, 0, 0, 100, 0, 15500, 15500, 0, 0, 0, 0, 91, 3, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 'Haggle - On Script- Remove bytes1 - sleep');
